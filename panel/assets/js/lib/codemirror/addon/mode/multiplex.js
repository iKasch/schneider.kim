CodeMirror.multiplexingMode=function(e){function r(e,t,n){if(typeof t=="string")return e.indexOf(t,n);var r=t.exec(n?e.slice(n):e);return r?r.index+n:-1}var t=Array.prototype.slice.call(arguments,1);var n=t.length;return{startState:function(){return{outer:CodeMirror.startState(e),innerActive:null,inner:null}},copyState:function(t){return{outer:CodeMirror.copyState(e,t.outer),innerActive:t.innerActive,inner:t.innerActive&&CodeMirror.copyState(t.innerActive.mode,t.inner)}},token:function(i,s){if(!s.innerActive){var o=Infinity,u=i.string;for(var a=0;a<n;++a){var f=t[a];var l=r(u,f.open,i.pos);if(l==i.pos){i.match(f.open);s.innerActive=f;s.inner=CodeMirror.startState(f.mode,e.indent?e.indent(s.outer,""):0);return f.delimStyle}else if(l!=-1&&l<o){o=l}}if(o!=Infinity)i.string=u.slice(0,o);var c=e.token(i,s.outer);if(o!=Infinity)i.string=u;return c}else{var h=s.innerActive,u=i.string;var l=r(u,h.close,i.pos);if(l==i.pos){i.match(h.close);s.innerActive=s.inner=null;return h.delimStyle}if(l>-1)i.string=u.slice(0,l);var p=h.mode.token(i,s.inner);if(l>-1)i.string=u;var d=i.current(),l=d.indexOf(h.close);if(l>-1)i.backUp(d.length-l);return p}},indent:function(t,n){var r=t.innerActive?t.innerActive.mode:e;if(!r.indent)return CodeMirror.Pass;return r.indent(t.innerActive?t.inner:t.outer,n)},blankLine:function(r){var i=r.innerActive?r.innerActive.mode:e;if(i.blankLine){i.blankLine(r.innerActive?r.inner:r.outer)}if(!r.innerActive){for(var s=0;s<n;++s){var o=t[s];if(o.open==="\n"){r.innerActive=o;r.inner=CodeMirror.startState(o.mode,i.indent?i.indent(r.outer,""):0)}}}else if(r.innerActive.close==="\n"){r.innerActive=r.inner=null}},electricChars:e.electricChars,innerMode:function(t){return t.inner?{state:t.inner,mode:t.innerActive.mode}:{state:t.outer,mode:e}}}}